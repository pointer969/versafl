/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/m/routing/Router','sap/ui/core/routing/History','sap/ui/thirdparty/hasher',"sap/ui/documentation/sdk/controller/util/ControlsInfo"],function(R,H,a,C){"use strict";a.raw=true;return R.extend("sap.ui.documentation.sdk.util.DocumentationRouter",{constructor:function(){R.prototype.constructor.apply(this,arguments);this.getRoute("entitySamplesLegacyRoute").attachPatternMatched(this._onEntityOldRouteMatched,this);this.getRoute("entityAboutLegacyRoute").attachPatternMatched(this._onEntityOldRouteMatched,this);this.getRoute("entityPropertiesLegacyRoute").attachPatternMatched({entityType:"controlProperties"},this._forwardToAPIRef,this);this.getRoute("entityAggregationsLegacyRoute").attachPatternMatched({entityType:"aggregations"},this._forwardToAPIRef,this);this.getRoute("entityAssociationsLegacyRoute").attachPatternMatched({entityType:"associations"},this._forwardToAPIRef,this);this.getRoute("entityEventsLegacyRoute").attachPatternMatched({entityType:"events"},this._forwardToAPIRef,this);this.getRoute("entityMethodsLegacyRoute").attachPatternMatched({entityType:"methods"},this._forwardToAPIRef,this);this.getRoute("topicIdLegacyRoute").attachPatternMatched(this._onOldTopicRouteMatched,this);this.getRoute("apiIdLegacyRoute").attachPatternMatched(this._onOldApiRouteMatched,this);this.getRoute("sampleLegacyRoute").attachPatternMatched({routeName:"sample"},this._onOldSampleRouteMatched,this);this.getRoute("codeLegacyRoute").attachPatternMatched({routeName:"code"},this._onOldSampleRouteMatched,this);this.getRoute("codeFileLegacyRoute").attachPatternMatched({routeName:"codeFile"},this._onOldSampleRouteMatched,this);this.getRoute("ReleaseNotesLegacyRoute").attachPatternMatched(function(){this.navTo("releaseNotes");},this);},_onEntityOldRouteMatched:function(e){this.navTo("entity",{id:e.getParameter("arguments").id});},_forwardToAPIRef:function(e,d){d||(d={});d['id']=e.getParameter("arguments").id;this.navTo("apiId",d);},_onOldSampleRouteMatched:function(e,E){var A=e.getParameter("arguments"),s=A.id;C.loadData().then(function(d){var S=d.samples[s],n;if(!S){this.myNavToWithoutHash("sap.ui.documentation.sdk.view.NotFound","XML",false);}n={entityId:S.contexts?Object.keys(S.contexts)[0]:S.entityId,sampleId:s};if(E.routeName==="codeFile"){n['fileName']=decodeURIComponent(A.fileName);}this.navTo(E.routeName,n);}.bind(this));},_onOldTopicRouteMatched:function(e){this.navTo("topicId",{id:e.getParameter("arguments").id.replace(/.html$/,"")});},_onOldApiRouteMatched:function(e){var E,s,S,i=e.getParameter("arguments").id;if(i){S=i.split("#");if(S.length===2){i=S[0];E=S[1];S=E.split(":");if(S.length===2){E=S[0];s=S[1];}}i=i.replace(/.html$/,"");if(E==='event'){E="events";}}this.navTo("apiId",{id:i,entityType:E,entityId:s});},myNavBack:function(r,d){var h=H.getInstance();var p=h.getPreviousHash();if(p!==undefined){window.history.go(-1);}else{var b=true;this.navTo(r,d,b);}},myNavToWithoutHash:function(v,b,m,d){var c=this._getOwnerComponent(),r=c.byId(c.getManifestEntry("/sap.ui5/rootView").id);r.loaded().then(function(r){var A=r.byId("splitApp"),V=this.getView(v,b);A.addPage(V,m);A.toDetail(V.getId(),"show",d);}.bind(this));},_getOwnerComponent:function(){return this._oOwner;},_destroySampleComponent:function(){var c=this._getOwnerComponent()._oCurrentOpenedSample;if(c){c.destroy();c=null;}},navTo:function(){this._destroySampleComponent();R.prototype.navTo.apply(this,arguments);}});});
